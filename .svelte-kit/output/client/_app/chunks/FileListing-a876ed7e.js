import{S as N,i as Q,s as V,e as h,t as z,k as I,x as W,c as _,a as m,h as S,d,m as R,y as ee,b as c,g as Z,K as n,z as te,j as H,r as G,p as J,C as le,o as ae,X as se,Z as ne,q as oe}from"./index-63fce611.js";import{I as re}from"./Icon-c351fa8a.js";function K(l){typeof l=="string"&&(l=new Date(l));const e=new Date,a=l.toLocaleTimeString();if(l.getFullYear()===e.getFullYear()&&l.getMonth()===e.getMonth()){if(l.getDate()===e.getDate())return`Today ${a}`;if(l.getDate()===e.getDate()-1)return`Yesterday ${a}`}return`${l.getFullYear()}-${`0${l.getMonth()+1}`.slice(-2)}-${`0${l.getDate()}`.slice(-2)} ${a}`}function O(l){return l<512?`${l} b`:l<8192?`${Math.round(l/1024*10)/10} kb`:l<1024*1024?`${Math.round(l/1024)} kb`:l<1024*1024*8?`${Math.round(l/(1024*1024)*10)/10} mb`:l<1024*1024*1024?`${Math.round(l/(1024*1024))} mb`:`${Math.round(l/(1024*1024))} gb`}function P(l,e,a){const r=l.slice();return r[3]=e[a],r}function X(l,e){let a,r,f,$=decodeURIComponent(e[3].name)+"",u,v,w,p,D=O(e[3].size)+"",F,x,g,b=K(e[3].lastModified)+"",C,j,i,T,E,k,Y,s;return E=new re({props:{name:"out",label:"Download"}}),{key:l,first:null,c(){a=h("tr"),r=h("td"),f=h("a"),u=z($),w=I(),p=h("td"),F=z(D),x=I(),g=h("td"),C=z(b),j=I(),i=h("td"),T=h("a"),W(E.$$.fragment),Y=I(),this.h()},l(t){a=_(t,"TR",{class:!0});var o=m(a);r=_(o,"TD",{class:!0});var M=m(r);f=_(M,"A",{href:!0});var y=m(f);u=S(y,$),y.forEach(d),M.forEach(d),w=R(o),p=_(o,"TD",{class:!0});var A=m(p);F=S(A,D),A.forEach(d),x=R(o),g=_(o,"TD",{class:!0});var L=m(g);C=S(L,b),L.forEach(d),j=R(o),i=_(o,"TD",{class:!0});var U=m(i);T=_(U,"A",{href:!0,download:!0});var q=m(T);ee(E.$$.fragment,q),q.forEach(d),U.forEach(d),Y=R(o),o.forEach(d),this.h()},h(){c(f,"href",v=e[1](e[3],"files")),c(r,"class","svelte-15xn22j"),c(p,"class","svelte-15xn22j"),c(g,"class","svelte-15xn22j"),c(T,"href",k=e[1](e[3],"raw")),c(T,"download",""),c(i,"class","svelte-15xn22j"),c(a,"class","svelte-15xn22j"),this.first=a},m(t,o){Z(t,a,o),n(a,r),n(r,f),n(f,u),n(a,w),n(a,p),n(p,F),n(a,x),n(a,g),n(g,C),n(a,j),n(a,i),n(i,T),te(E,T,null),n(a,Y),s=!0},p(t,o){e=t,(!s||o&1)&&$!==($=decodeURIComponent(e[3].name)+"")&&H(u,$),(!s||o&1&&v!==(v=e[1](e[3],"files")))&&c(f,"href",v),(!s||o&1)&&D!==(D=O(e[3].size)+"")&&H(F,D),(!s||o&1)&&b!==(b=K(e[3].lastModified)+"")&&H(C,b),(!s||o&1&&k!==(k=e[1](e[3],"raw")))&&c(T,"href",k)},i(t){s||(G(E.$$.fragment,t),s=!0)},o(t){J(E.$$.fragment,t),s=!1},d(t){t&&d(a),le(E)}}}function ie(l){let e,a,r,f,$,u,v,w,p,D,F,x,g,b,C,j,i=[],T=new Map,E,k=l[0];const Y=s=>s[3].path;for(let s=0;s<k.length;s+=1){let t=P(l,k,s),o=Y(t);T.set(o,i[s]=X(o,t))}return{c(){e=h("table"),a=h("thead"),r=h("tr"),f=h("td"),$=z("Filename"),u=I(),v=h("td"),w=z("Size"),p=I(),D=h("td"),F=z("Modified"),x=I(),g=h("td"),b=z("Download"),C=I(),j=h("tbody");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=_(s,"TABLE",{class:!0});var t=m(e);a=_(t,"THEAD",{class:!0});var o=m(a);r=_(o,"TR",{class:!0});var M=m(r);f=_(M,"TD",{class:!0});var y=m(f);$=S(y,"Filename"),y.forEach(d),u=R(M),v=_(M,"TD",{class:!0});var A=m(v);w=S(A,"Size"),A.forEach(d),p=R(M),D=_(M,"TD",{class:!0});var L=m(D);F=S(L,"Modified"),L.forEach(d),x=R(M),g=_(M,"TD",{class:!0});var U=m(g);b=S(U,"Download"),U.forEach(d),M.forEach(d),o.forEach(d),C=R(t),j=_(t,"TBODY",{class:!0});var q=m(j);for(let B=0;B<i.length;B+=1)i[B].l(q);q.forEach(d),t.forEach(d),this.h()},h(){c(f,"class","svelte-15xn22j"),c(v,"class","svelte-15xn22j"),c(D,"class","svelte-15xn22j"),c(g,"class","svelte-15xn22j"),c(r,"class","svelte-15xn22j"),c(a,"class","svelte-15xn22j"),c(j,"class","svelte-15xn22j"),c(e,"class","svelte-15xn22j")},m(s,t){Z(s,e,t),n(e,a),n(a,r),n(r,f),n(f,$),n(r,u),n(r,v),n(v,w),n(r,p),n(r,D),n(D,F),n(r,x),n(r,g),n(g,b),n(e,C),n(e,j);for(let o=0;o<i.length;o+=1)i[o].m(j,null);E=!0},p(s,[t]){t&3&&(k=s[0],ae(),i=se(i,t,Y,1,s,k,T,j,ne,X,null,P),oe())},i(s){if(!E){for(let t=0;t<k.length;t+=1)G(i[t]);E=!0}},o(s){for(let t=0;t<i.length;t+=1)J(i[t]);E=!1},d(s){s&&d(e);for(let t=0;t<i.length;t+=1)i[t].d()}}}function ce(l,e,a){let{collection:r}=e,{files:f=[]}=e;function $(u,v){const w=u.path.split("/").slice(2).map(p=>encodeURIComponent(p)).join("/");return`/collections/${encodeURIComponent(r)}/${v}/${w}`}return l.$$set=u=>{"collection"in u&&a(2,r=u.collection),"files"in u&&a(0,f=u.files)},[f,$,r]}class ue extends N{constructor(e){super(),Q(this,e,ce,ie,V,{collection:2,files:0})}}export{ue as F};
